<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fourier’s Law – Heat Flow in Pipe</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    background: #0f172a;
    color: #e5e7eb;
}

header {
    background: #020617;
    padding: 20px;
    text-align: center;
}

section {
    padding: 20px;
    max-width: 1200px;
    margin: auto;
}

.card {
    background: #020617;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
}

label {
    display: block;
    margin-top: 10px;
}

input, select {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    background: #020617;
    color: white;
    border: 1px solid #334155;
    border-radius: 5px;
}

button {
    margin-top: 20px;
    padding: 12px;
    width: 100%;
    background: #2563eb;
    border: none;
    color: white;
    font-size: 16px;
    border-radius: 6px;
    cursor: pointer;
}

button:hover {
    background: #1d4ed8;
}

.flex {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}

canvas {
    background: white;
    border-radius: 8px;
}

.pipe {
    width: 200px;
    height: 200px;
    margin: auto;
    border-radius: 50%;
    background:
        radial-gradient(circle at center,
        #ef4444 0%,
        #ef4444 35%,
        #f97316 36%,
        #f97316 60%,
        #64748b 61%);
}
</style>
</head>

<body>

<header>
<h1>Fourier’s Law – Heat Flow in Cylindrical Pipe</h1>
<p>Steady-state conduction | Engineering Calculator</p>
</header>

<section class="flex">

<div class="card" style="flex:1">
<h2>Input Parameters</h2>

<label>Inner Radius</label>
<input id="r1" type="number" step="any" placeholder="Value">
<select id="r1Unit">
<option value="m">meters</option>
<option value="cm">cm</option>
</select>

<label>Pipe Thickness</label>
<input id="thickness" type="number" step="any">
<select id="thickUnit">
<option value="m">meters</option>
<option value="cm">cm</option>
</select>

<label>Pipe Length (m)</label>
<input id="length" type="number" step="any">

<label>Inner Temperature (°C)</label>
<input id="t1" type="number" step="any">

<label>Outer Temperature (°C)</label>
<input id="t2" type="number" step="any">

<label>Thermal Conductivity (W/m·K)</label>
<input id="k" type="number" step="any">

<label>Time</label>
<input id="time" type="number" step="any">
<select id="timeUnit">
<option value="s">seconds</option>
<option value="min">minutes</option>
<option value="hr">hours</option>
</select>

<button onclick="calculate()">Calculate Heat Flow</button>
</div>

<div class="card" style="flex:1">
<h2>Pipe Visualization</h2>
<div class="pipe"></div>
<p style="text-align:center">Red → Hot | Grey → Cold</p>

<h2>Temperature Distribution</h2>
<canvas id="graph" width="400" height="250"></canvas>
</div>

</section>

<section class="card">
<h2>Results & Calculations</h2>
<pre id="output"></pre>
</section>

<script>
function calculate() {

let r1 = parseFloat(document.getElementById("r1").value);
let thickness = parseFloat(document.getElementById("thickness").value);
let L = parseFloat(document.getElementById("length").value);
let T1 = parseFloat(document.getElementById("t1").value);
let T2 = parseFloat(document.getElementById("t2").value);
let k = parseFloat(document.getElementById("k").value);
let time = parseFloat(document.getElementById("time").value);

if (document.getElementById("r1Unit").value === "cm") r1 /= 100;
if (document.getElementById("thickUnit").value === "cm") thickness /= 100;

if (document.getElementById("timeUnit").value === "min") time *= 60;
if (document.getElementById("timeUnit").value === "hr") time *= 3600;

let r2 = r1 + thickness;

// Fourier’s Law for cylindrical pipe
let Q = (2 * Math.PI * k * L * (T1 - T2)) / Math.log(r2 / r1);
let heat = Q * time;

document.getElementById("output").textContent =
`Fourier’s Law:
Q = (2πkL(T₁ − T₂)) / ln(r₂/r₁)

r₁ = ${r1.toFixed(4)} m
r₂ = ${r2.toFixed(4)} m
k  = ${k} W/m·K
L  = ${L} m
ΔT = ${T1 - T2} °C

Heat Flow Rate (Q) = ${Q.toFixed(3)} W
Total Heat Transferred = ${heat.toFixed(3)} J`;

drawGraph(r1, r2, T1, T2);
}

function drawGraph(r1, r2, T1, T2) {
let canvas = document.getElementById("graph");
let ctx = canvas.getContext("2d");
ctx.clearRect(0,0,400,250);

ctx.strokeStyle = "black";
ctx.beginPath();
ctx.moveTo(40,20);
ctx.lineTo(40,220);
ctx.lineTo(380,220);
ctx.stroke();

ctx.strokeStyle = "red";
ctx.beginPath();
for (let i = 0; i <= 100; i++) {
let r = r1 + (r2 - r1) * (i / 100);
let T = T1 - (T1 - T2) * Math.log(r / r1) / Math.log(r2 / r1);
let x = 40 + i * 3.4;
let y = 220 - ((T - T2) / (T1 - T2)) * 180;
if (i === 0) ctx.moveTo(x,y);
else ctx.lineTo(x,y);
}
ctx.stroke();
}
</script>

</body>
</html>
